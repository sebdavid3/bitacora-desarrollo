# Bitácora - 4 de Septiembre de 2025

## Objetivos del día
- [x] Resolver problemas de compatibilidad W### Problemas encontrados
- **Problema principal resuelto:** ClassNotFoundException por referencias hardcoded jakarta en AdminFaces 1.6.1
- **Problema actual:** Conflicto menor de web fragments al iniciar WebLogic (no crítico)
- **Nuevo problema identificado:** Crash fatal de JVM al intentar cargar VynamicGuardian con Java 22 y SDK Neurotechnology 2025
- **Causa raíz:** Incompatibilidad entre librerías nativas (.dll) del SDK Neurotechnology y JVM de Java 22
- **Error de despliegue inicial:** VynamicGuardian.war no encontrado en ruta esperada
- **Diagnóstico:** EXCEPTION_ACCESS_VIOLATION (0xc0000005) durante inicialización de componentes

### Soluciones implementadas
- **Compatibilidad WebLogic:** Revertido a javax namespace con versiones compatibles
- **AdminFaces:** Cambiado a versión 1.5.1 con classifier javax
- **PrimeFaces:** Downgrade a 13.0.10 para compatibilidad javax
- **JSF:** Actualizado a javax.faces 2.3.9 óptimo para WebLogic 14c
- **Configuraciones XML:** Actualizadas versiones y namespaces
- **CDI Service:** Renombrado archivo para compatibilidad
- **Build Process:** Iniciado cambio de NEURO_LIB path en build.bat
- **Despliegue:** Corregido proceso para asegurar ubicación correcta del .war
- **Diagnóstico JVM:** Análisis detallado del hs_err_pid12472.log
- **Plan de estabilización:** Preparado cambio a JDK 17 o 11 para entorno estableconflictos de namespace jakarta
- [x] Implementar cambios en dependencias (AdminFaces, PrimeFaces, JSF)
- [x] Realizar pull request para revisión
- [x] Configurar WebLogic para usar Java 22
- [x] Actualizar build.bat para usar Neurotechnology SDK 2025
- [x] Compilar VynamicGuardian con nuevas versiones y corregir errores
- [x] Diagnosticar y resolver problemas de carga de VynamicGuardian en Java 22
- [ ] Estabilizar entorno con JDK compatible (JDK 17 o 11)
- [ ] Continuar migración a SDK Neurotechnology 2025
- [ ] Crear ticket de soporte con Neurotechnology

## Horario
**Inicio:** 07:30
**Fin:** 12:30 
**Horas trabajadas:** 5 horas

## Actividades de Desarrollo
### Proyectos trabajados
- VynamicGuardianAdmin - Migración WebLogic 14c
- VynamicGuardian - Actualización a Java 22 y Neurotechnology SDK 2025

### Código escrito/modificado
- Actualización de pom.xml: AdminFaces 1.6.1 → 1.5.1 (classifier javax)
- Downgrade PrimeFaces: 14.0.11 → 13.0.10
- Downgrade PrimeFaces Extensions: 14.0.1 → 13.0.5
- Actualización JSF: javax.faces 2.3.9
- Modificación de archivos de configuración XML (beans.xml, faces-config.xml, web.xml, weblogic.xml)
- Renombrado de archivo CDI service: jakarta → javax
- Actualización de build.bat para Neurotechnology SDK 2025
- Configuración de setDomainEnv.cmd para JDK 22
- Ajuste de dependencias a nuevos JAR del SDK 2025

## Proceso de Diagnóstico y Migración
### Objetivo
Migrar la aplicación VynamicGuardian para que sea compatible y se ejecute con Java 22 y la última versión del SDK de Neurotechnology (2025).

### Resumen del Proceso de Diagnóstico
**Configuración Inicial:** Se configuró el entorno de Oracle WebLogic 14.1.1 para utilizar JDK 22. Paralelamente, se actualizaron los scripts de compilación (build.cmd) para apuntar a las librerías del nuevo SDK de Neurotechnology 2025 y se ajustaron las dependencias a los nuevos archivos JAR.

**Primer Error de Despliegue:** El intento inicial de arranque del servidor falló con un error java.nio.file.NoSuchFileException. El análisis del log determinó que se trataba de un problema de configuración: el archivo VynamicGuardian.war no se encontraba en la ruta de despliegue esperada por WebLogic.

**Solución:** Se corrigió el proceso de compilación/despliegue para asegurar que el artefacto .war estuviera en la ubicación correcta antes de iniciar el servidor.

**Error Fatal de la JVM:** Tras solucionar el problema de despliegue, un segundo intento de arranque del servidor provocó un crash fatal y completo de la Máquina Virtual de Java (JVM).

**Análisis del Crash:** Se localizó y analizó el informe de error generado por la JVM (hs_err_pid12472.log). Los hallazgos clave fueron:
- Error Principal: EXCEPTION_ACCESS_VIOLATION (0xc0000005)
- Frame Problemático: V [jvm.dll+0x5eb281]
- Contexto: El crash ocurría durante la fase de despliegue de la aplicación, mientras WebLogic inicializaba los componentes

### Diagnóstico Final
El análisis del archivo de error de la JVM (hs_err_pid...log) confirma que el crash es un error de memoria de bajo nivel. Este tipo de error es un síntoma inequívoco de una incompatibilidad fundamental entre las librerías nativas (.dll) del SDK de Neurotechnology y el entorno de ejecución de Java 22.

El código nativo precompilado por Neurotechnology, al ser cargado por la JVM de Java 22, realiza una operación de memoria ilegal que corrompe el estado interno de la JVM, causando el colapso irrecuperable de todo el proceso.

Se concluye que el problema NO reside en el código fuente Java de VynamicGuardian y no puede ser solucionado mediante modificaciones en la lógica de la aplicación.

### Próximos Pasos y Plan de Acción
El trabajo se divide en dos rutas paralelas e independientes:

**Acción Inmediata (Estabilización del Entorno):**
Para poder avanzar con el desarrollo, es imperativo trabajar en un entorno estable.
- Tarea: Cambiar la versión de Java del entorno de ejecución de WebLogic (en setDomainEnv.cmd) a una versión compatible.
- Opción A (Recomendada): Probar con JDK 17 (LTS).
- Opción B (Segura): Retroceder a JDK 11, que tiene soporte oficial confirmado por Oracle WebLogic y Neurotechnology.

**Acción a Mediano Plazo (Migración de la Aplicación):**
Una vez el entorno esté estabilizado (ej. con JDK 11), continuar con la migración de VynamicGuardian para que use la API del SDK 2025.
- Tarea: Compilar, desplegar y corregir los errores de código Java (NoSuchMethodError, etc.) que surjan por los cambios en la API de Neurotechnology.

**Acción a Largo Plazo (Dependencia Externa):**
El objetivo original de funcionar en Java 22 queda bloqueado y pendiente hasta que Neurotechnology ofrezca una solución.
- Tarea: Crear un ticket de soporte con Neurotechnology, reportando el bug y adjuntando el log hs_err_pid12472.log como evidencia de la incompatibilidad de sus librerías nativas con Java 22.

### Tecnologías utilizadas
- WebLogic 14c
- Java 22
- Maven
- PrimeFaces 13.x
- AdminFaces 1.5.1 (javax)
- Neurotechnology SDK 2025
- Git/GitHub

## Aprendizaje
### Nuevos conceptos
- Compatibilidad específica de AdminFaces con classifier javax para WebLogic
- Matriz de compatibilidad Jakarta EE 8 vs 9 en WebLogic 14c
- Uso de versiones 13.x de PrimeFaces para mantener javax namespace
- Configuración de JNI jars en Neurotechnology SDK 2025
- Problemas de web fragments en despliegue WebLogic

### Recursos consultados
- Documentación AdminFaces sobre classifier javax
- Guías de compatibilidad PrimeFaces con WebLogic
- Ejemplos de Neurotechnology SDK 2025
- Documentación WebLogic sobre web fragments

### Documentación revisada
- Matriz de compatibilidad Jakarta EE
- Changelog de PrimeFaces versiones
- Guía de migración Neurotechnology SDK

## Problemas y Soluciones
### Problemas encontrados
- **Problema principal resuelto:** ClassNotFoundException por referencias hardcoded jakarta en AdminFaces 1.6.1
- **Problema actual:** Conflicto menor de web fragments al iniciar WebLogic (no crítico)
- **Nuevo enfoque:** VynamicGuardian no carga con versiones nuevas de Java (Java 22)
- **Causa identificada:** Dependencias JNI desactualizadas en Neurotechnology SDK

### Soluciones implementadas
- **Compatibilidad WebLogic:** Revertido a javax namespace con versiones compatibles
- **AdminFaces:** Cambiado a versión 1.5.1 con classifier javax
- **PrimeFaces:** Downgrade a 13.0.10 para compatibilidad javax
- **JSF:** Actualizado a javax.faces 2.3.9 óptimo para WebLogic 14c
- **Configuraciones XML:** Actualizadas versiones y namespaces
- **CDI Service:** Renombrado archivo para compatibilidad
- **Build Process:** Iniciado cambio de NEURO_LIB path en build.bat

### Ayuda recibida
- Instrucciones de Sr Victor para enfoque en VynamicGuardian
- Revisión técnica independiente

## Interacciones del equipo
### Reuniones
- Comunicación con Pai sobre estrategia para VynamicGuardian

### Consultas realizadas
- Discusión sobre uso de Neurotechnology SDK 2025 con Java 22

### Feedback recibido
- Sr. Víctor: Enfoque en VynamicGuardian después de resolver compatibilidad, Instrucciones específicas para configuración Java 22 y SDK 2025

## Tareas Administrativas
- Creación de pull request para revisión
- Documentación de cambios realizados (UPGRADE_SUMMARY.md)
- Preparación de commits para GitHub

## Ideas y Notas
- El classifier javax en AdminFaces es crucial para WebLogic 14c
- Las versiones 13.x de PrimeFaces mantienen compatibilidad javax
- Los ejemplos de Neuro 2025 usan jars JNI diferentes que podrían resolver problemas de carga
- Importante verificar compatibilidad de versiones antes de upgrades

## Logros del día
- Resolución completa de problemas de compatibilidad WebLogic-jakarta
- Implementación exitosa de cambios en 20 archivos
- Pull request creado y listo para revisión
- Inicio de configuración para Java 22 y Neuro SDK 2025
- Identificación de estrategia para solucionar carga de VynamicGuardian

## Preguntas/Dudas pendientes
- ¿Cómo resolver el conflicto menor de web fragments?
- ¿Los jars JNI de Neuro 2025 son completamente compatibles con VynamicGuardian?
- ¿Necesitaremos ajustes adicionales en el classpath para Java 22?

## Para mañana
- [ ] Cambiar versión de Java en setDomainEnv.cmd a JDK 17 (LTS) o JDK 11
- [ ] Verificar estabilidad del entorno con JDK compatible
- [ ] Continuar migración de VynamicGuardian a SDK Neurotechnology 2025
- [ ] Compilar y desplegar con nuevas versiones, corregir errores de API
- [ ] Resolver cualquier conflicto de web fragments si es necesario
- [ ] Crear ticket de soporte con Neurotechnology adjuntando hs_err_pid12472.log
- [ ] Documentar proceso de estabilización del entorno

---
**Estado de productividad:** Alto
**Comentarios adicionales:** Día productivo con resolución exitosa de problemas de compatibilidad WebLogic y diagnóstico completo del crash JVM con Java 22. Se identificó incompatibilidad fundamental entre SDK Neurotechnology y Java 22. Pull request listo para revisión. Plan establecido para estabilizar entorno con JDK 17/11 y continuar migración. Próximo paso: cambio de versión Java para entorno estable.</content>
<parameter name="filePath">c:\Users\Developer\Desktop\code\sebastian\bitacora\2025\septiembre\2025-09-04.md
